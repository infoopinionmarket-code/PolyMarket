# Markets API - –û—Ç—á–µ—Ç –æ –ø—É—Å—Ç—ã—Ö –æ—Ç–≤–µ—Ç–∞—Ö

**–î–∞—Ç–∞:** 5 –æ–∫—Ç—è–±—Ä—è 2025  
**Endpoint:** `POST https://connect.markets.inout.games/api/markets`  
**Operator ID:** `db96e2d8-e8fb-4b12-97de-c3a473fe3251`

---

## üîç –ü—Ä–æ–±–ª–µ–º–∞

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç **–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –º–∞—Ä–∫–µ—Ç–æ–≤** (`markets: []`), –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

---

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

- ‚úÖ API –æ—Ç–≤–µ—á–∞–µ—Ç **200 OK**
- ‚úÖ HMAC SHA256 –ø–æ–¥–ø–∏—Å—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è: `{ pagination: {...}, markets: [] }`
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

---

## üìã –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### 1Ô∏è‚É£ –ó–∞–ø—Ä–æ—Å –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–≤—Å–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```json
POST https://connect.markets.inout.games/api/markets
Headers:
  x-client-id: db96e2d8-e8fb-4b12-97de-c3a473fe3251
  x-request-signature: <HMAC SHA256>
  accept-language: ru
Body: {}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `{ pagination: { page: 1, limit: 25, total: 0 }, markets: [] }`

---

### 2Ô∏è‚É£ –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, 10 –∑–∞–ø–∏—Å–µ–π
```json
Body: {
  "page": 1,
  "limit": 10
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `markets: []` (0 –∏–∑ 0)

---

### 3Ô∏è‚É£ –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, 25 –∑–∞–ø–∏—Å–µ–π
```json
Body: {
  "page": 1,
  "limit": 25
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `markets: []` (0 –∏–∑ 0)

---

### 4Ô∏è‚É£ –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, 50 –∑–∞–ø–∏—Å–µ–π
```json
Body: {
  "page": 1,
  "limit": 50
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `markets: []` (0 –∏–∑ 0)

---

### 5Ô∏è‚É£ –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, 100 –∑–∞–ø–∏—Å–µ–π
```json
Body: {
  "page": 1,
  "limit": 100
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `markets: []` (0 –∏–∑ 0)

---

### 6Ô∏è‚É£ –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –º–∞—Ä–∫–µ—Ç—ã
```json
Body: {
  "page": 1,
  "limit": 10,
  "filter.status": "active"
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `markets: []` (0 –∏–∑ 0)

---

### 7Ô∏è‚É£ –¢–æ–ª—å–∫–æ –∑–∞–∫—Ä—ã—Ç—ã–µ –º–∞—Ä–∫–µ—Ç—ã
```json
Body: {
  "page": 1,
  "limit": 10,
  "filter.status": "closed"
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `markets: []` (0 –∏–∑ 0)

---

### 8Ô∏è‚É£ –ê–∫—Ç–∏–≤–Ω—ã–µ + —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –æ–±—ä–µ–º—É
```json
Body: {
  "page": 1,
  "limit": 10,
  "filter.status": "active",
  "filter.sort_by": "volume"
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `markets: []` (0 –∏–∑ 0)

---

### 9Ô∏è‚É£ –ê–∫—Ç–∏–≤–Ω—ã–µ + —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –Ω–æ–≤–∏–∑–Ω–µ
```json
Body: {
  "page": 1,
  "limit": 10,
  "filter.status": "active",
  "filter.sort_by": "newest"
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `markets: []` (0 –∏–∑ 0)

---

### üîü –ê–∫—Ç–∏–≤–Ω—ã–µ + —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∑–∞–∫—Ä—ã—Ç–∏—é
```json
Body: {
  "page": 1,
  "limit": 10,
  "filter.status": "active",
  "filter.sort_by": "closing"
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `markets: []` (0 –∏–∑ 0)

---

### 1Ô∏è‚É£1Ô∏è‚É£ –ö–æ–º–±–æ: –∞–∫—Ç–∏–≤–Ω—ã–µ + –æ–±—ä–µ–º + 25 –∑–∞–ø–∏—Å–µ–π
```json
Body: {
  "page": 1,
  "limit": 25,
  "filter.status": "active",
  "filter.sort_by": "volume"
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `markets: []` (0 –∏–∑ 0)

---

### 1Ô∏è‚É£2Ô∏è‚É£ –¢–æ–ª—å–∫–æ —Ñ–∏–ª—å—Ç—Ä—ã (–ø–∞–≥–∏–Ω–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```json
Body: {
  "filter.status": "active",
  "filter.sort_by": "newest"
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `markets: []` (0 –∏–∑ 0)

---

### 1Ô∏è‚É£3Ô∏è‚É£ –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```json
Body: {
  "page": 2,
  "limit": 10
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `markets: []` (0 –∏–∑ 0)

---

## üìä –ò—Ç–æ–≥–æ

**–í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤:** 13  
**–£—Å–ø–µ—à–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ (200 OK):** 13  
**–ú–∞—Ä–∫–µ—Ç–æ–≤ –ø–æ–ª—É—á–µ–Ω–æ:** 0  

---

## üéØ –í—ã–≤–æ–¥—ã

1. **API —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** - –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 200 OK —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—É—Å—Ç–∞—è** - –Ω–∏ –æ–¥–Ω–æ–≥–æ –º–∞—Ä–∫–µ—Ç–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–æ –Ω–∞ stage –æ–∫—Ä—É–∂–µ–Ω–∏–∏
3. **–í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã** - –ª–∏–º–∏—Ç—ã, —Ñ–∏–ª—å—Ç—Ä—ã, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, –ø–∞–≥–∏–Ω–∞—Ü–∏—è

---

## ‚ùì –í–æ–ø—Ä–æ—Å—ã –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º

1. –ï—Å—Ç—å –ª–∏ –Ω–∞ stage –æ–∫—Ä—É–∂–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ?
2. –ù—É–∂–Ω–æ –ª–∏ —Å–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –º–∞—Ä–∫–µ—Ç—ã –≤—Ä—É—á–Ω—É—é?
3. –ï—Å—Ç—å –ª–∏ production –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏?
4. –ï—Å—Ç—å –ª–∏ –∞–¥–º–∏–Ω–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—Ä–∫–µ—Ç–æ–≤?

---

## üõ† –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

### Node.js
```javascript
const crypto = require('crypto');

const API_URL = 'https://connect.markets.inout.games/api/markets';
const OPERATOR_ID = 'db96e2d8-e8fb-4b12-97de-c3a473fe3251';
const SECRET_KEY = '40e6277e007345a43b1eb7218ec53d0da12583d513695b7d801c2427a8e69fce';

async function testAPI() {
  const body = JSON.stringify({ page: 1, limit: 10 });
  
  // Generate HMAC signature
  const signature = crypto
    .createHmac('sha256', Buffer.from(SECRET_KEY, 'hex'))
    .update(body)
    .digest('hex');
  
  const response = await fetch(API_URL, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'x-client-id': OPERATOR_ID,
      'x-request-signature': signature,
      'accept-language': 'ru'
    },
    body
  });
  
  const data = await response.json();
  console.log(data); // { pagination: {...}, markets: [] }
}
```

### cURL
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∏ (–≤ bash)
BODY='{"page":1,"limit":10}'
SECRET_KEY="40e6277e007345a43b1eb7218ec53d0da12583d513695b7d801c2427a8e69fce"
SIGNATURE=$(echo -n "$BODY" | openssl dgst -sha256 -hmac $(echo -n "$SECRET_KEY" | xxd -r -p) | cut -d' ' -f2)

# –ó–∞–ø—Ä–æ—Å
curl -X POST https://connect.markets.inout.games/api/markets \
  -H "Content-Type: application/json" \
  -H "x-client-id: db96e2d8-e8fb-4b12-97de-c3a473fe3251" \
  -H "x-request-signature: $SIGNATURE" \
  -H "accept-language: ru" \
  -d "$BODY"
```

---

## üìé –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞

- ‚úÖ **API –∫–ª–∏–µ–Ω—Ç:** `src/lib/marketsAPI.ts`
- ‚úÖ **–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:** `src/types/markets.ts`
- ‚úÖ **–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö:** `src/lib/transformMarkets.ts`
- ‚úÖ **React —Ö—É–∫:** `src/hooks/useMarkets.ts`
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ UI:** `src/screens/Desktop/sections/QuestionCardSection/QuestionCardSection.tsx`
- ‚úÖ **Fallback –Ω–∞ –º–æ–∫–∏:** –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –ø—É—Å—Ç–æ–º API
- ‚úÖ **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö:** Live Data / Demo Mode

**–ö–∞–∫ —Ç–æ–ª—å–∫–æ –Ω–∞ stage –ø–æ—è–≤—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ - —Å–∞–π—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç –∏—Ö –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å!**

---

**–ö–æ–Ω—Ç–∞–∫—Ç:** ds  
**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `/Users/ds/dev/PolyMarket`  
**–í–µ—Ç–∫–∞:** `feature/markets-api-integration`
