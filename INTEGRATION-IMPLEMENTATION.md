# Markets API Integration - Implementation Guide

## üì¶ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. Types (`src/types/markets.ts`)
- `APIResponse` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ Markets API
- `APIMarket` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–±—ã—Ç–∏—è –∏–∑ API
- `Market` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–±—ã—Ç–∏—è –¥–ª—è UI
- `GetMarketsParams` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞

### 2. API Client (`src/lib/marketsAPI.ts`)
- `fetchMarkets()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–æ–±—ã—Ç–∏–π
- `fetchMarketById()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
- `createSignature()` - —Å–æ–∑–¥–∞–Ω–∏–µ HMAC SHA256 –ø–æ–¥–ø–∏—Å–∏

### 3. Data Transformer (`src/lib/transformMarkets.ts`)
- `transformMarket()` - —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
- `transformMarkets()` - —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–∞
- `categorizeMarket()` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ keywords
- `generateChartData()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞
- `formatDeadline()` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã

### 4. React Hook (`src/hooks/useMarkets.ts`)
- `useMarkets()` - —Ö—É–∫ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ loading/error —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π refetch

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

```typescript
import { useMarkets } from '../hooks/useMarkets';

function MyComponent() {
  const { markets, loading, error } = useMarkets({
    page: 1,
    limit: 10,
    'filter.status': 'active'
  });

  if (loading) return <div>Loading...</div>;
  if (error) return <div>Error: {error.message}</div>;
  
  return (
    <div>
      {markets.map(market => (
        <MarketCard key={market.id} market={market} />
      ))}
    </div>
  );
}
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –≠—Ç–∞–ø 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ QuestionCardSection

1. –ó–∞–º–µ–Ω–∏—Ç—å `mainQuestions` –Ω–∞ `useMarkets()`
2. –î–æ–±–∞–≤–∏—Ç—å fallback –Ω–∞ mock –¥–∞–Ω–Ω—ã–µ
3. –î–æ–±–∞–≤–∏—Ç—å loading —Å–æ—Å—Ç–æ—è–Ω–∏–µ
4. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç API

### –≠—Ç–∞–ø 3: –û–±–Ω–æ–≤–∏—Ç—å EventDetailsPage

1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `fetchMarketById()`
2. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å "–Ω–µ –Ω–∞–π–¥–µ–Ω–æ"
3. Loading —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –≠—Ç–∞–ø 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Å–æ–±—ã—Ç–∏–π
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å fallback –Ω–∞ mock
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

## üîç –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

‚úÖ API –∫–ª–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω  
‚úÖ –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞  
‚úÖ React Hook –≥–æ—Ç–æ–≤  
‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (—Å–ª–µ–¥—É—é—â–∏–π –∫–æ–º–º–∏—Ç)  
‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ  

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- API –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å 0 events (stage environment)
- Fallback –Ω–∞ mock –¥–∞–Ω–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ keywords
- Pool amount –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ (–Ω–µ—Ç –≤ API)
